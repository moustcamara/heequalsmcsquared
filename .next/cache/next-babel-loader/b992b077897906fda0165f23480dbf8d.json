{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { getHomePageAPI, getBlogPostsAPI } from '../api'; // We create this in just a tick\n\nimport { linkResolver } from '../helpers';\nimport { RichText } from 'prismic-reactjs';\n/**\r\n* As you can see we are importing our layout here,\r\n* and below we wrap all of the page in it.\r\n*/\n\nimport DefaultLayout from '../layouts';\n\nvar profileCardStyles = function profileCardStyles(profileCardImage) {\n  return {\n    backgroundImage: 'url(' + profileCardImage + ')',\n    backgroundSize: 'cover',\n    paddingTop: '100%'\n  };\n};\n\nvar profileCardText = function profileCardText() {\n  return {\n    color: 'white',\n    fontWeight: '700',\n    fontFamily: 'Montserrat',\n    position: 'absolute',\n    top: '40%',\n    left: '50%',\n    transform: 'translateX(-50%) translateY(-50%)'\n  };\n};\n\nvar audioPlayer = function audioPlayer() {\n  \"use strict\"; // Private variables\n\n  var _currentTrack = null;\n  var _elements = {\n    audio: document.getElementById(\"audio\"),\n    playerButtons: {\n      largeToggleBtn: document.querySelector(\".large-toggle-btn\"),\n      nextTrackBtn: document.querySelector(\".next-track-btn\"),\n      previousTrackBtn: document.querySelector(\".previous-track-btn\"),\n      smallToggleBtn: document.getElementsByClassName(\"small-toggle-btn\")\n    },\n    progressBar: document.querySelector(\".progress-box\"),\n    playListRows: document.getElementsByClassName(\"play-list-row\"),\n    trackInfoBox: document.querySelector(\".track-info-box\")\n  };\n  var _playAHead = false;\n  var _progressCounter = 0;\n  var _progressBarIndicator = _elements.progressBar.children[0].children[0].children[1];\n  var _trackLoaded = false;\n  /**\r\n   * Determines the buffer progress.\r\n   *\r\n   * @param audio The audio element on the page.\r\n   **/\n\n  var _bufferProgress = function _bufferProgress(audio) {\n    var bufferedTime = audio.buffered.end(0) * 100 / audio.duration;\n    var progressBuffer = _elements.progressBar.children[0].children[0].children[0];\n    progressBuffer.style.width = bufferedTime + \"%\";\n  };\n  /**\r\n   * A utility function for getting the event cordinates based on browser type.\r\n   *\r\n   * @param e The JavaScript event.\r\n   **/\n\n\n  var _getXY = function _getXY(e) {\n    var containerX = _elements.progressBar.offsetLeft;\n    var containerY = _elements.progressBar.offsetTop;\n    var coords = {\n      x: null,\n      y: null\n    };\n    var isTouchSuopported = (\"ontouchstart\" in window);\n\n    if (isTouchSuopported) {\n      //For touch devices\n      coords.x = e.clientX - containerX;\n      coords.y = e.clientY - containerY;\n      return coords;\n    } else if (e.offsetX || e.offsetX === 0) {\n      // For webkit browsers\n      coords.x = e.offsetX;\n      coords.y = e.offsetY;\n      return coords;\n    } else if (e.layerX || e.layerX === 0) {\n      // For Mozilla firefox\n      coords.x = e.layerX;\n      coords.y = e.layerY;\n      return coords;\n    }\n  };\n\n  var _handleProgressIndicatorClick = function _handleProgressIndicatorClick(e) {\n    var progressBar = document.querySelector(\".progress-box\");\n\n    var xCoords = _getXY(e).x;\n\n    return (xCoords - progressBar.offsetLeft) / progressBar.children[0].offsetWidth;\n  };\n  /**\r\n   * Initializes the html5 audio player and the playlist.\r\n   *\r\n   **/\n\n\n  var initPlayer = function initPlayer() {\n    if (_currentTrack === 1 || _currentTrack === null) {\n      _elements.playerButtons.previousTrackBtn.disabled = true;\n    } //Adding event listeners to playlist clickable elements.\n\n\n    for (var i = 0; i < _elements.playListRows.length; i++) {\n      var smallToggleBtn = _elements.playerButtons.smallToggleBtn[i];\n      var playListLink = _elements.playListRows[i].children[2].children[0]; //Playlist link clicked.\n\n      playListLink.addEventListener(\"click\", function (e) {\n        e.preventDefault();\n        var selectedTrack = parseInt(this.parentNode.parentNode.getAttribute(\"data-track-row\"));\n\n        if (selectedTrack !== _currentTrack) {\n          _resetPlayStatus();\n\n          _currentTrack = null;\n          _trackLoaded = false;\n        }\n\n        if (_trackLoaded === false) {\n          _currentTrack = parseInt(selectedTrack);\n\n          _setTrack();\n        } else {\n          _playBack(this);\n        }\n      }, false); //Small toggle button clicked.\n\n      smallToggleBtn.addEventListener(\"click\", function (e) {\n        e.preventDefault();\n        var selectedTrack = parseInt(this.parentNode.getAttribute(\"data-track-row\"));\n\n        if (selectedTrack !== _currentTrack) {\n          _resetPlayStatus();\n\n          _currentTrack = null;\n          _trackLoaded = false;\n        }\n\n        if (_trackLoaded === false) {\n          _currentTrack = parseInt(selectedTrack);\n\n          _setTrack();\n        } else {\n          _playBack(this);\n        }\n      }, false);\n    } //Audio time has changed so update it.\n\n\n    _elements.audio.addEventListener(\"timeupdate\", _trackTimeChanged, false); //Audio track has ended playing.\n\n\n    _elements.audio.addEventListener(\"ended\", function (e) {\n      _trackHasEnded();\n    }, false); //Audio error. \n\n\n    _elements.audio.addEventListener(\"error\", function (e) {\n      switch (e.target.error.code) {\n        case e.target.error.MEDIA_ERR_ABORTED:\n          alert('You aborted the video playback.');\n          break;\n\n        case e.target.error.MEDIA_ERR_NETWORK:\n          alert('A network error caused the audio download to fail.');\n          break;\n\n        case e.target.error.MEDIA_ERR_DECODE:\n          alert('The audio playback was aborted due to a corruption problem or because the video used features your browser did not support.');\n          break;\n\n        case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:\n          alert('The video audio not be loaded, either because the server or network failed or because the format is not supported.');\n          break;\n\n        default:\n          alert('An unknown error occurred.');\n          break;\n      }\n\n      trackLoaded = false;\n\n      _resetPlayStatus();\n    }, false); //Large toggle button clicked.\n\n\n    _elements.playerButtons.largeToggleBtn.addEventListener(\"click\", function (e) {\n      if (_trackLoaded === false) {\n        _currentTrack = parseInt(1);\n\n        _setTrack();\n      } else {\n        _playBack();\n      }\n    }, false); //Next track button clicked.\n\n\n    _elements.playerButtons.nextTrackBtn.addEventListener(\"click\", function (e) {\n      if (this.disabled !== true) {\n        _currentTrack++;\n        _trackLoaded = false;\n\n        _resetPlayStatus();\n\n        _setTrack();\n      }\n    }, false); //Previous track button clicked.\n\n\n    _elements.playerButtons.previousTrackBtn.addEventListener(\"click\", function (e) {\n      if (this.disabled !== true) {\n        _currentTrack--;\n        _trackLoaded = false;\n\n        _resetPlayStatus();\n\n        _setTrack();\n      }\n    }, false); //User is moving progress indicator.\n\n\n    _progressBarIndicator.addEventListener(\"mousedown\", _mouseDown, false); //User stops moving progress indicator.\n\n\n    window.addEventListener(\"mouseup\", _mouseUp, false);\n  };\n  /**\r\n   * Handles the mousedown event by a user and determines if the mouse is being moved.\r\n   *\r\n   * @param e The event object.\r\n   **/\n\n\n  var _mouseDown = function _mouseDown(e) {\n    window.addEventListener(\"mousemove\", _moveProgressIndicator, true);\n    audio.removeEventListener(\"timeupdate\", _trackTimeChanged, false);\n    _playAHead = true;\n  };\n  /**\r\n   * Handles the mouseup event by a user.\r\n   *\r\n   * @param e The event object.\r\n   **/\n\n\n  var _mouseUp = function _mouseUp(e) {\n    if (_playAHead === true) {\n      var duration = parseFloat(audio.duration);\n      var progressIndicatorClick = parseFloat(_handleProgressIndicatorClick(e));\n      window.removeEventListener(\"mousemove\", _moveProgressIndicator, true);\n      audio.currentTime = duration * progressIndicatorClick;\n      audio.addEventListener(\"timeupdate\", _trackTimeChanged, false);\n      _playAHead = false;\n    }\n  };\n  /**\r\n   * Moves the progress indicator to a new point in the audio.\r\n   *\r\n   * @param e The event object.\r\n   **/\n\n\n  var _moveProgressIndicator = function _moveProgressIndicator(e) {\n    var newPosition = 0;\n    var progressBarOffsetLeft = _elements.progressBar.offsetLeft;\n    var progressBarWidth = 0;\n    var progressBarIndicator = _elements.progressBar.children[0].children[0].children[1];\n    var progressBarIndicatorWidth = _progressBarIndicator.offsetWidth;\n\n    var xCoords = _getXY(e).x;\n\n    progressBarWidth = _elements.progressBar.children[0].offsetWidth - progressBarIndicatorWidth;\n    newPosition = xCoords - progressBarOffsetLeft;\n\n    if (newPosition >= 1 && newPosition <= progressBarWidth) {\n      progressBarIndicator.style.left = newPosition + \".px\";\n    }\n\n    if (newPosition < 0) {\n      progressBarIndicator.style.left = \"0\";\n    }\n\n    if (newPosition > progressBarWidth) {\n      progressBarIndicator.style.left = progressBarWidth + \"px\";\n    }\n  };\n  /**\r\n   * Controls playback of the audio element.\r\n   *\r\n   **/\n\n\n  var _playBack = function _playBack() {\n    if (_elements.audio.paused) {\n      _elements.audio.play();\n\n      _updatePlayStatus(true);\n\n      document.title = \"\\u25B6 \" + document.title;\n    } else {\n      _elements.audio.pause();\n\n      _updatePlayStatus(false);\n\n      document.title = document.title.substr(2);\n    }\n  };\n  /**\r\n   * Sets the track if it hasn't already been loaded yet.\r\n   *\r\n   **/\n\n\n  var _setTrack = function _setTrack() {\n    var songURL = _elements.audio.children[_currentTrack - 1].src;\n\n    _elements.audio.setAttribute(\"src\", songURL);\n\n    _elements.audio.load();\n\n    _trackLoaded = true;\n\n    _setTrackTitle(_currentTrack, _elements.playListRows);\n\n    _setActiveItem(_currentTrack, _elements.playListRows);\n\n    _elements.trackInfoBox.style.visibility = \"visible\";\n\n    _playBack();\n  };\n  /**\r\n   * Sets the activly playing item within the playlist.\r\n   *\r\n   * @param currentTrack The current track number being played.\r\n   * @param playListRows The playlist object.\r\n   **/\n\n\n  var _setActiveItem = function _setActiveItem(currentTrack, playListRows) {\n    for (var i = 0; i < playListRows.length; i++) {\n      playListRows[i].children[2].className = \"track-title\";\n    }\n\n    playListRows[currentTrack - 1].children[2].className = \"track-title active-track\";\n  };\n  /**\r\n   * Sets the text for the currently playing song.\r\n   *\r\n   * @param currentTrack The current track number being played.\r\n   * @param playListRows The playlist object.\r\n   **/\n\n\n  var _setTrackTitle = function _setTrackTitle(currentTrack, playListRows) {\n    var trackTitleBox = document.querySelector(\".player .info-box .track-info-box .track-title-text\");\n    var trackTitle = playListRows[currentTrack - 1].children[2].outerText;\n    trackTitleBox.innerHTML = null;\n    trackTitleBox.innerHTML = trackTitle;\n    document.title = trackTitle;\n  };\n  /**\r\n   * Plays the next track when a track has ended playing.\r\n   *\r\n   **/\n\n\n  var _trackHasEnded = function _trackHasEnded() {\n    parseInt(_currentTrack);\n    _currentTrack = _currentTrack === _elements.playListRows.length ? 1 : _currentTrack + 1;\n    _trackLoaded = false;\n\n    _resetPlayStatus();\n\n    _setTrack();\n  };\n  /**\r\n   * Updates the time for the song being played.\r\n   *\r\n   **/\n\n\n  var _trackTimeChanged = function _trackTimeChanged() {\n    var currentTimeBox = document.querySelector(\".player .info-box .track-info-box .audio-time .current-time\");\n    var currentTime = audio.currentTime;\n    var duration = audio.duration;\n    var durationBox = document.querySelector(\".player .info-box .track-info-box .audio-time .duration\");\n\n    var trackCurrentTime = _trackTime(currentTime);\n\n    var trackDuration = _trackTime(duration);\n\n    currentTimeBox.innerHTML = null;\n    currentTimeBox.innerHTML = trackCurrentTime;\n    durationBox.innerHTML = null;\n    durationBox.innerHTML = trackDuration;\n\n    _updateProgressIndicator(audio);\n\n    _bufferProgress(audio);\n  };\n  /**\r\n   * A utility function for converting a time in miliseconds to a readable time of minutes and seconds.\r\n   *\r\n   * @param seconds The time in seconds.\r\n   *\r\n   * @return time The time in minutes and/or seconds.\r\n   **/\n\n\n  var _trackTime = function _trackTime(seconds) {\n    var min = 0;\n    var sec = Math.floor(seconds);\n    var time = 0;\n    min = Math.floor(sec / 60);\n    min = min >= 10 ? min : '0' + min;\n    sec = Math.floor(sec % 60);\n    sec = sec >= 10 ? sec : '0' + sec;\n    time = min + ':' + sec;\n    return time;\n  };\n  /**\r\n   * Updates both the large and small toggle buttons accordingly.\r\n   *\r\n   * @param audioPlaying A booean value indicating if audio is playing or paused.\r\n   **/\n\n\n  var _updatePlayStatus = function _updatePlayStatus(audioPlaying) {\n    if (audioPlaying) {\n      _elements.playerButtons.largeToggleBtn.children[0].className = \"large-pause-btn\";\n      _elements.playerButtons.smallToggleBtn[_currentTrack - 1].children[0].className = \"small-pause-btn\";\n    } else {\n      _elements.playerButtons.largeToggleBtn.children[0].className = \"large-play-btn\";\n      _elements.playerButtons.smallToggleBtn[_currentTrack - 1].children[0].className = \"small-play-btn\";\n    } //Update next and previous buttons accordingly\n\n\n    if (_currentTrack === 1) {\n      _elements.playerButtons.previousTrackBtn.disabled = true;\n      _elements.playerButtons.previousTrackBtn.className = \"previous-track-btn disabled\";\n    } else if (_currentTrack > 1 && _currentTrack !== _elements.playListRows.length) {\n      _elements.playerButtons.previousTrackBtn.disabled = false;\n      _elements.playerButtons.previousTrackBtn.className = \"previous-track-btn\";\n      _elements.playerButtons.nextTrackBtn.disabled = false;\n      _elements.playerButtons.nextTrackBtn.className = \"next-track-btn\";\n    } else if (_currentTrack === _elements.playListRows.length) {\n      _elements.playerButtons.nextTrackBtn.disabled = true;\n      _elements.playerButtons.nextTrackBtn.className = \"next-track-btn disabled\";\n    }\n  };\n  /**\r\n   * Updates the location of the progress indicator according to how much time left in audio.\r\n   *\r\n   **/\n\n\n  var _updateProgressIndicator = function _updateProgressIndicator() {\n    var currentTime = parseFloat(_elements.audio.currentTime);\n    var duration = parseFloat(_elements.audio.duration);\n    var indicatorLocation = 0;\n    var progressBarWidth = parseFloat(_elements.progressBar.offsetWidth);\n    var progressIndicatorWidth = parseFloat(_progressBarIndicator.offsetWidth);\n    var progressBarIndicatorWidth = progressBarWidth - progressIndicatorWidth;\n    indicatorLocation = progressBarIndicatorWidth * (currentTime / duration);\n    _progressBarIndicator.style.left = indicatorLocation + \"px\";\n  };\n  /**\r\n   * Resets all toggle buttons to be play buttons.\r\n   *\r\n   **/\n\n\n  var _resetPlayStatus = function _resetPlayStatus() {\n    var smallToggleBtn = _elements.playerButtons.smallToggleBtn;\n    _elements.playerButtons.largeToggleBtn.children[0].className = \"large-play-btn\";\n\n    for (var i = 0; i < smallToggleBtn.length; i++) {\n      if (smallToggleBtn[i].children[0].className === \"small-pause-btn\") {\n        smallToggleBtn[i].children[0].className = \"small-play-btn\";\n      }\n    }\n  };\n\n  return {\n    initPlayer: initPlayer\n  };\n};\n\n(function () {\n  var player = new audioPlayer();\n  player.initPlayer();\n})();\n\nvar Index = function Index(_ref) {\n  var _ref$home = _ref.home,\n      home = _ref$home === void 0 ? [] : _ref$home;\n  return __jsx(DefaultLayout, null, home.map(function (homepage) {\n    return __jsx(\"div\", null, __jsx(\"div\", {\n      className: \"row\"\n    }, homepage.data.body.filter(function (slice) {\n      return slice.slice_type == \"profile_card\";\n    }).map(function (profile) {\n      profile = profile.primary;\n      return __jsx(\"div\", {\n        className: \"profile-card col-md-6 p-0\"\n      }, __jsx(\"style\", null, \"       \\n                  .profile-card {\\n                      background-color: #000;\\n                      background-image: url(https://www.transparenttextures.com/patterns/asfalt-light.png);\\n                  } \\n                \"), __jsx(\"div\", {\n        className: \"profile-card__image text-center\",\n        style: profileCardStyles()\n      }, __jsx(\"div\", {\n        className: \"profile-card__text text-center mb-5\",\n        style: profileCardText()\n      }, __jsx(\"h1\", {\n        className: \"profile-card__title display-1\"\n      }, __jsx(\"img\", {\n        src: profile.profile_logo.url,\n        width: \"400\",\n        alt: RichText.asText(profile.profile_title)\n      })))));\n    }), homepage.data.body.filter(function (slice) {\n      return slice.slice_type == \"tracklist\";\n    }).map(function (tracklist) {\n      return __jsx(\"div\", {\n        className: \"tracklist-card col-md-6 px-0\"\n      }, __jsx(\"style\", null, \"       \\n                  .tracklist-card {\\n                      background-color: #000;\\n                      color: #fff;\\n                      background-image: url(https://www.transparenttextures.com/patterns/asfalt-light.png);\\n                  } \\n              \"), __jsx(\"audio\", {\n        id: \"audio\",\n        preload: \"none\",\n        tabindex: \"0\"\n      }, __jsx(\"source\", {\n        src: \"https://archive.org/download/calexico2006-12-02..flac16/calexico2006-12-02d1t02.mp3\",\n        \"data-track-number\": \"1\"\n      }), __jsx(\"source\", {\n        src: \"https://archive.org/download/ra2007-07-21/ra2007-07-21d1t05_64kb.mp3\",\n        \"data-track-number\": \"2\"\n      }), __jsx(\"source\", {\n        src: \"https://archive.org/download/slac2002-02-15/slac2002-02-15d1t07_64kb.mp3\",\n        \"data-track-number\": \"3\"\n      }), __jsx(\"source\", {\n        src: \"https://archive.org/download/blitzentrapper2009-02-24.flac16/blitzentrapper2009-02-24t02_64kb.mp3\",\n        \"data-track-number\": \"4\"\n      }), __jsx(\"source\", {\n        src: \"https://archive.org/download/samples2003-11-21.flac16/samples2003-11-21d2t04.mp3\",\n        \"data-track-number\": \"5\"\n      }), __jsx(\"source\", {\n        src: \"https://archive.org/download/mikedoughty2004-06-16.flac16/d1t13.mp3\",\n        \"data-track-number\": \"6\"\n      }), __jsx(\"source\", {\n        src: \"https://archive.org/download/glove2004-03-18.shnf/glove2004-03-18d1t05.mp3\",\n        \"data-track-number\": \"7\"\n      }), __jsx(\"source\", {\n        src: \"https://archive.org/download/guster2005-11-12.flac16/guster2005-11-12d2t04.mp3\",\n        \"data-track-number\": \"8\"\n      }), __jsx(\"source\", {\n        src: \"https://archive.org/download/oar2004-11-12.flac/oar2004-11-12d1t01.mp3\",\n        \"data-track-number\": \"9\"\n      }), __jsx(\"source\", {\n        src: \"https://archive.org/download/mmj2003-09-26.shnf/mmj2003-09-26d2t08.mp3\",\n        \"data-track-number\": \"10\"\n      }), \"Your browser does not support HTML5 audio.\"), __jsx(\"div\", {\n        className: \"tracklist-card__title p-5\"\n      }, __jsx(\"h2\", null, \"Latest Tracks\")), __jsx(\"ul\", {\n        className: \"list-group\"\n      }, tracklist.items.map(function (track, index) {\n        return __jsx(\"li\", {\n          className: \"list-group-item p-4\"\n        }, __jsx(\"h4\", {\n          className: \"pb-3\"\n        }, RichText.asText(track.track_title)), track.track_mp3_file && __jsx(\"audio\", {\n          controls: true\n        }, __jsx(\"source\", {\n          src: track.track_mp3_file.url,\n          type: \"audio/mpeg\"\n        }), \"Your browser does not support the audio element.\"), track.purchase_link && __jsx(\"div\", {\n          className: \"mt-3 d-none\"\n        }, __jsx(\"a\", {\n          className: \"btn btn-primary\",\n          href: track.purchase_link.url,\n          target: \"_blank\"\n        }, \"Purchase\")));\n      })));\n    })));\n  }));\n};\n\nIndex.getInitialProps = function _callee() {\n  var response;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(getHomePageAPI({\n            pageSize: 1\n          }));\n\n        case 2:\n          response = _context.sent;\n          return _context.abrupt(\"return\", {\n            home: response.results\n          });\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/Moustapha Camara/Dropbox/MOUST MUSIC/HeEqualsMCSquared Website/Development/heequalsmcsquared/pages/index.js"],"names":["Link","getHomePageAPI","getBlogPostsAPI","linkResolver","RichText","DefaultLayout","profileCardStyles","profileCardImage","backgroundImage","backgroundSize","paddingTop","profileCardText","color","fontWeight","fontFamily","position","top","left","transform","audioPlayer","_currentTrack","_elements","audio","document","getElementById","playerButtons","largeToggleBtn","querySelector","nextTrackBtn","previousTrackBtn","smallToggleBtn","getElementsByClassName","progressBar","playListRows","trackInfoBox","_playAHead","_progressCounter","_progressBarIndicator","children","_trackLoaded","_bufferProgress","bufferedTime","buffered","end","duration","progressBuffer","style","width","_getXY","e","containerX","offsetLeft","containerY","offsetTop","coords","x","y","isTouchSuopported","window","clientX","clientY","offsetX","offsetY","layerX","layerY","_handleProgressIndicatorClick","xCoords","offsetWidth","initPlayer","disabled","i","length","playListLink","addEventListener","preventDefault","selectedTrack","parseInt","parentNode","getAttribute","_resetPlayStatus","_setTrack","_playBack","_trackTimeChanged","_trackHasEnded","target","error","code","MEDIA_ERR_ABORTED","alert","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","trackLoaded","_mouseDown","_mouseUp","_moveProgressIndicator","removeEventListener","parseFloat","progressIndicatorClick","currentTime","newPosition","progressBarOffsetLeft","progressBarWidth","progressBarIndicator","progressBarIndicatorWidth","paused","play","_updatePlayStatus","title","pause","substr","songURL","src","setAttribute","load","_setTrackTitle","_setActiveItem","visibility","currentTrack","className","trackTitleBox","trackTitle","outerText","innerHTML","currentTimeBox","durationBox","trackCurrentTime","_trackTime","trackDuration","_updateProgressIndicator","seconds","min","sec","Math","floor","time","audioPlaying","indicatorLocation","progressIndicatorWidth","player","Index","home","map","homepage","data","body","filter","slice","slice_type","profile","primary","profile_logo","url","asText","profile_title","tracklist","items","track","index","track_title","track_mp3_file","purchase_link","getInitialProps","pageSize","response","results"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\nimport { getHomePageAPI, getBlogPostsAPI } from '../api';\r\n// We create this in just a tick\r\nimport { linkResolver } from '../helpers';\r\n\r\nimport { RichText } from 'prismic-reactjs';\r\n\r\n\r\n/**\r\n* As you can see we are importing our layout here,\r\n* and below we wrap all of the page in it.\r\n*/\r\nimport DefaultLayout from '../layouts';\r\n\r\nlet profileCardStyles = profileCardImage => {\r\n  return (\r\n      {\r\n        backgroundImage: 'url(' + profileCardImage + ')',\r\n        backgroundSize: 'cover',\r\n        paddingTop: '100%'\r\n      }\r\n  )\r\n}\r\n\r\nlet profileCardText = () => {\r\n  return (\r\n    {\r\n        color: 'white',\r\n        fontWeight: '700',\r\n        fontFamily: 'Montserrat',\r\n        position: 'absolute',\r\n        top: '40%',\r\n        left: '50%',\r\n        transform: 'translateX(-50%) translateY(-50%)'\r\n    }\r\n  )\r\n}\r\n\r\nvar audioPlayer = function() {\r\n  \"use strict\";\r\n\r\n  // Private variables\r\n  var _currentTrack = null;\r\n  var _elements = {\r\n    audio: document.getElementById(\"audio\"),\r\n    playerButtons: {\r\n      largeToggleBtn: document.querySelector(\".large-toggle-btn\"),\r\n      nextTrackBtn: document.querySelector(\".next-track-btn\"),\r\n      previousTrackBtn: document.querySelector(\".previous-track-btn\"),\r\n      smallToggleBtn: document.getElementsByClassName(\"small-toggle-btn\")\r\n    },\r\n    progressBar: document.querySelector(\".progress-box\"),\r\n    playListRows: document.getElementsByClassName(\"play-list-row\"),\r\n    trackInfoBox: document.querySelector(\".track-info-box\")\r\n  };\r\n  var _playAHead = false;\r\n  var _progressCounter = 0;\r\n  var _progressBarIndicator = _elements.progressBar.children[0].children[0].children[1];\r\n  var _trackLoaded = false;\r\n\r\n  /**\r\n   * Determines the buffer progress.\r\n   *\r\n   * @param audio The audio element on the page.\r\n   **/\r\n  var _bufferProgress = function(audio) {\r\n    var bufferedTime = (audio.buffered.end(0) * 100) / audio.duration;\r\n    var progressBuffer = _elements.progressBar.children[0].children[0].children[0];\r\n\r\n    progressBuffer.style.width = bufferedTime + \"%\";\r\n  };\r\n\r\n  /**\r\n   * A utility function for getting the event cordinates based on browser type.\r\n   *\r\n   * @param e The JavaScript event.\r\n   **/\r\n  var _getXY = function(e) {\r\n    var containerX = _elements.progressBar.offsetLeft;\r\n    var containerY = _elements.progressBar.offsetTop;\r\n\r\n    var coords = {\r\n      x: null,\r\n      y: null\r\n    };\r\n\r\n    var isTouchSuopported = \"ontouchstart\" in window;\r\n\r\n    if (isTouchSuopported) { //For touch devices\r\n      coords.x = e.clientX - containerX;\r\n      coords.y = e.clientY - containerY;\r\n\r\n      return coords;\r\n    } else if (e.offsetX || e.offsetX === 0) { // For webkit browsers\r\n      coords.x = e.offsetX;\r\n      coords.y = e.offsetY;\r\n\r\n      return coords;\r\n    } else if (e.layerX || e.layerX === 0) { // For Mozilla firefox\r\n      coords.x = e.layerX;\r\n      coords.y = e.layerY;\r\n\r\n      return coords;\r\n    }\r\n  };\r\n\r\n  var _handleProgressIndicatorClick = function(e) {\r\n    var progressBar = document.querySelector(\".progress-box\");\r\n    var xCoords = _getXY(e).x;\r\n\r\n    return (xCoords - progressBar.offsetLeft) / progressBar.children[0].offsetWidth;\r\n  };\r\n\r\n  /**\r\n   * Initializes the html5 audio player and the playlist.\r\n   *\r\n   **/\r\n  var initPlayer = function() {\r\n\r\n    if (_currentTrack === 1 || _currentTrack === null) {\r\n      _elements.playerButtons.previousTrackBtn.disabled = true;\r\n    }\r\n\r\n    //Adding event listeners to playlist clickable elements.\r\n    for (var i = 0; i < _elements.playListRows.length; i++) {\r\n      var smallToggleBtn = _elements.playerButtons.smallToggleBtn[i];\r\n      var playListLink = _elements.playListRows[i].children[2].children[0];\r\n\r\n      //Playlist link clicked.\r\n      playListLink.addEventListener(\"click\", function(e) {\r\n        e.preventDefault();\r\n        var selectedTrack = parseInt(this.parentNode.parentNode.getAttribute(\"data-track-row\"));\r\n\r\n        if (selectedTrack !== _currentTrack) {\r\n          _resetPlayStatus();\r\n          _currentTrack = null;\r\n          _trackLoaded = false;\r\n        }\r\n\r\n        if (_trackLoaded === false) {\r\n          _currentTrack = parseInt(selectedTrack);\r\n          _setTrack();\r\n        } else {\r\n          _playBack(this);\r\n        }\r\n      }, false);\r\n\r\n      //Small toggle button clicked.\r\n      smallToggleBtn.addEventListener(\"click\", function(e) {\r\n        e.preventDefault();\r\n        var selectedTrack = parseInt(this.parentNode.getAttribute(\"data-track-row\"));\r\n\r\n        if (selectedTrack !== _currentTrack) {\r\n          _resetPlayStatus();\r\n          _currentTrack = null;\r\n          _trackLoaded = false;\r\n        }\r\n\r\n        if (_trackLoaded === false) {\r\n          _currentTrack = parseInt(selectedTrack);\r\n          _setTrack();\r\n        } else {\r\n          _playBack(this);\r\n        }\r\n\r\n      }, false);\r\n    }\r\n\r\n    //Audio time has changed so update it.\r\n    _elements.audio.addEventListener(\"timeupdate\", _trackTimeChanged, false);\r\n\r\n    //Audio track has ended playing.\r\n    _elements.audio.addEventListener(\"ended\", function(e) {\r\n      _trackHasEnded();\r\n    }, false);\r\n\r\n    //Audio error. \r\n    _elements.audio.addEventListener(\"error\", function(e) {\r\n      switch (e.target.error.code) {\r\n        case e.target.error.MEDIA_ERR_ABORTED:\r\n          alert('You aborted the video playback.');\r\n          break;\r\n        case e.target.error.MEDIA_ERR_NETWORK:\r\n          alert('A network error caused the audio download to fail.');\r\n          break;\r\n        case e.target.error.MEDIA_ERR_DECODE:\r\n          alert('The audio playback was aborted due to a corruption problem or because the video used features your browser did not support.');\r\n          break;\r\n        case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:\r\n          alert('The video audio not be loaded, either because the server or network failed or because the format is not supported.');\r\n          break;\r\n        default:\r\n          alert('An unknown error occurred.');\r\n          break;\r\n      }\r\n      trackLoaded = false;\r\n      _resetPlayStatus();\r\n    }, false);\r\n\r\n    //Large toggle button clicked.\r\n    _elements.playerButtons.largeToggleBtn.addEventListener(\"click\", function(e) {\r\n      if (_trackLoaded === false) {\r\n        _currentTrack = parseInt(1);\r\n        _setTrack()\r\n      } else {\r\n        _playBack();\r\n      }\r\n    }, false);\r\n\r\n    //Next track button clicked.\r\n    _elements.playerButtons.nextTrackBtn.addEventListener(\"click\", function(e) {\r\n      if (this.disabled !== true) {\r\n        _currentTrack++;\r\n        _trackLoaded = false;\r\n        _resetPlayStatus();\r\n        _setTrack();\r\n      }\r\n    }, false);\r\n\r\n    //Previous track button clicked.\r\n    _elements.playerButtons.previousTrackBtn.addEventListener(\"click\", function(e) {\r\n      if (this.disabled !== true) {\r\n        _currentTrack--;\r\n        _trackLoaded = false;\r\n        _resetPlayStatus();\r\n        _setTrack();\r\n      }\r\n    }, false);\r\n\r\n    //User is moving progress indicator.\r\n    _progressBarIndicator.addEventListener(\"mousedown\", _mouseDown, false);\r\n\r\n    //User stops moving progress indicator.\r\n    window.addEventListener(\"mouseup\", _mouseUp, false);\r\n  };\r\n\r\n  /**\r\n   * Handles the mousedown event by a user and determines if the mouse is being moved.\r\n   *\r\n   * @param e The event object.\r\n   **/\r\n  var _mouseDown = function(e) {\r\n    window.addEventListener(\"mousemove\", _moveProgressIndicator, true);\r\n    audio.removeEventListener(\"timeupdate\", _trackTimeChanged, false);\r\n\r\n    _playAHead = true;\r\n  };\r\n\r\n  /**\r\n   * Handles the mouseup event by a user.\r\n   *\r\n   * @param e The event object.\r\n   **/\r\n  var _mouseUp = function(e) {\r\n    if (_playAHead === true) {\r\n      var duration = parseFloat(audio.duration);\r\n      var progressIndicatorClick = parseFloat(_handleProgressIndicatorClick(e));\r\n      window.removeEventListener(\"mousemove\", _moveProgressIndicator, true);\r\n\r\n      audio.currentTime = duration * progressIndicatorClick;\r\n      audio.addEventListener(\"timeupdate\", _trackTimeChanged, false);\r\n      _playAHead = false;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Moves the progress indicator to a new point in the audio.\r\n   *\r\n   * @param e The event object.\r\n   **/\r\n  var _moveProgressIndicator = function(e) {\r\n    var newPosition = 0;\r\n    var progressBarOffsetLeft = _elements.progressBar.offsetLeft;\r\n    var progressBarWidth = 0;\r\n    var progressBarIndicator = _elements.progressBar.children[0].children[0].children[1];\r\n    var progressBarIndicatorWidth = _progressBarIndicator.offsetWidth;\r\n    var xCoords = _getXY(e).x;\r\n\r\n    progressBarWidth = _elements.progressBar.children[0].offsetWidth - progressBarIndicatorWidth;\r\n    newPosition = xCoords - progressBarOffsetLeft;\r\n\r\n    if ((newPosition >= 1) && (newPosition <= progressBarWidth)) {\r\n      progressBarIndicator.style.left = newPosition + \".px\";\r\n    }\r\n    if (newPosition < 0) {\r\n      progressBarIndicator.style.left = \"0\";\r\n    }\r\n    if (newPosition > progressBarWidth) {\r\n      progressBarIndicator.style.left = progressBarWidth + \"px\";\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Controls playback of the audio element.\r\n   *\r\n   **/\r\n  var _playBack = function() {\r\n    if (_elements.audio.paused) {\r\n      _elements.audio.play();\r\n      _updatePlayStatus(true);\r\n      document.title = \"\\u25B6 \" + document.title;\r\n    } else {\r\n      _elements.audio.pause();\r\n      _updatePlayStatus(false);\r\n      document.title = document.title.substr(2);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Sets the track if it hasn't already been loaded yet.\r\n   *\r\n   **/\r\n  var _setTrack = function() {\r\n    var songURL = _elements.audio.children[_currentTrack - 1].src;\r\n\r\n    _elements.audio.setAttribute(\"src\", songURL);\r\n    _elements.audio.load();\r\n\r\n    _trackLoaded = true;\r\n\r\n    _setTrackTitle(_currentTrack, _elements.playListRows);\r\n\r\n    _setActiveItem(_currentTrack, _elements.playListRows);\r\n\r\n    _elements.trackInfoBox.style.visibility = \"visible\";\r\n\r\n    _playBack();\r\n  };\r\n\r\n  /**\r\n   * Sets the activly playing item within the playlist.\r\n   *\r\n   * @param currentTrack The current track number being played.\r\n   * @param playListRows The playlist object.\r\n   **/\r\n  var _setActiveItem = function(currentTrack, playListRows) {\r\n    for (var i = 0; i < playListRows.length; i++) {\r\n      playListRows[i].children[2].className = \"track-title\";\r\n    }\r\n\r\n    playListRows[currentTrack - 1].children[2].className = \"track-title active-track\";\r\n  };\r\n\r\n  /**\r\n   * Sets the text for the currently playing song.\r\n   *\r\n   * @param currentTrack The current track number being played.\r\n   * @param playListRows The playlist object.\r\n   **/\r\n  var _setTrackTitle = function(currentTrack, playListRows) {\r\n    var trackTitleBox = document.querySelector(\".player .info-box .track-info-box .track-title-text\");\r\n    var trackTitle = playListRows[currentTrack - 1].children[2].outerText;\r\n\r\n    trackTitleBox.innerHTML = null;\r\n\r\n    trackTitleBox.innerHTML = trackTitle;\r\n\r\n    document.title = trackTitle;\r\n  };\r\n\r\n  /**\r\n   * Plays the next track when a track has ended playing.\r\n   *\r\n   **/\r\n  var _trackHasEnded = function() {\r\n    parseInt(_currentTrack);\r\n    _currentTrack = (_currentTrack === _elements.playListRows.length) ? 1 : _currentTrack + 1;\r\n    _trackLoaded = false;\r\n\r\n    _resetPlayStatus();\r\n\r\n    _setTrack();\r\n  };\r\n\r\n  /**\r\n   * Updates the time for the song being played.\r\n   *\r\n   **/\r\n  var _trackTimeChanged = function() {\r\n    var currentTimeBox = document.querySelector(\".player .info-box .track-info-box .audio-time .current-time\");\r\n    var currentTime = audio.currentTime;\r\n    var duration = audio.duration;\r\n    var durationBox = document.querySelector(\".player .info-box .track-info-box .audio-time .duration\");\r\n    var trackCurrentTime = _trackTime(currentTime);\r\n    var trackDuration = _trackTime(duration);\r\n\r\n    currentTimeBox.innerHTML = null;\r\n    currentTimeBox.innerHTML = trackCurrentTime;\r\n\r\n    durationBox.innerHTML = null;\r\n    durationBox.innerHTML = trackDuration;\r\n\r\n    _updateProgressIndicator(audio);\r\n    _bufferProgress(audio);\r\n  };\r\n\r\n  /**\r\n   * A utility function for converting a time in miliseconds to a readable time of minutes and seconds.\r\n   *\r\n   * @param seconds The time in seconds.\r\n   *\r\n   * @return time The time in minutes and/or seconds.\r\n   **/\r\n  var _trackTime = function(seconds) {\r\n    var min = 0;\r\n    var sec = Math.floor(seconds);\r\n    var time = 0;\r\n\r\n    min = Math.floor(sec / 60);\r\n\r\n    min = min >= 10 ? min : '0' + min;\r\n\r\n    sec = Math.floor(sec % 60);\r\n\r\n    sec = sec >= 10 ? sec : '0' + sec;\r\n\r\n    time = min + ':' + sec;\r\n\r\n    return time;\r\n  };\r\n\r\n  /**\r\n   * Updates both the large and small toggle buttons accordingly.\r\n   *\r\n   * @param audioPlaying A booean value indicating if audio is playing or paused.\r\n   **/\r\n  var _updatePlayStatus = function(audioPlaying) {\r\n    if (audioPlaying) {\r\n      _elements.playerButtons.largeToggleBtn.children[0].className = \"large-pause-btn\";\r\n\r\n      _elements.playerButtons.smallToggleBtn[_currentTrack - 1].children[0].className = \"small-pause-btn\";\r\n    } else {\r\n      _elements.playerButtons.largeToggleBtn.children[0].className = \"large-play-btn\";\r\n\r\n      _elements.playerButtons.smallToggleBtn[_currentTrack - 1].children[0].className = \"small-play-btn\";\r\n    }\r\n\r\n    //Update next and previous buttons accordingly\r\n    if (_currentTrack === 1) {\r\n      _elements.playerButtons.previousTrackBtn.disabled = true;\r\n      _elements.playerButtons.previousTrackBtn.className = \"previous-track-btn disabled\";\r\n    } else if (_currentTrack > 1 && _currentTrack !== _elements.playListRows.length) {\r\n      _elements.playerButtons.previousTrackBtn.disabled = false;\r\n      _elements.playerButtons.previousTrackBtn.className = \"previous-track-btn\";\r\n      _elements.playerButtons.nextTrackBtn.disabled = false;\r\n      _elements.playerButtons.nextTrackBtn.className = \"next-track-btn\";\r\n    } else if (_currentTrack === _elements.playListRows.length) {\r\n      _elements.playerButtons.nextTrackBtn.disabled = true;\r\n      _elements.playerButtons.nextTrackBtn.className = \"next-track-btn disabled\";\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Updates the location of the progress indicator according to how much time left in audio.\r\n   *\r\n   **/\r\n  var _updateProgressIndicator = function() {\r\n    var currentTime = parseFloat(_elements.audio.currentTime);\r\n    var duration = parseFloat(_elements.audio.duration);\r\n    var indicatorLocation = 0;\r\n    var progressBarWidth = parseFloat(_elements.progressBar.offsetWidth);\r\n    var progressIndicatorWidth = parseFloat(_progressBarIndicator.offsetWidth);\r\n    var progressBarIndicatorWidth = progressBarWidth - progressIndicatorWidth;\r\n\r\n    indicatorLocation = progressBarIndicatorWidth * (currentTime / duration);\r\n\r\n    _progressBarIndicator.style.left = indicatorLocation + \"px\";\r\n  };\r\n\r\n  /**\r\n   * Resets all toggle buttons to be play buttons.\r\n   *\r\n   **/\r\n  var _resetPlayStatus = function() {\r\n    var smallToggleBtn = _elements.playerButtons.smallToggleBtn;\r\n\r\n    _elements.playerButtons.largeToggleBtn.children[0].className = \"large-play-btn\";\r\n\r\n    for (var i = 0; i < smallToggleBtn.length; i++) {\r\n      if (smallToggleBtn[i].children[0].className === \"small-pause-btn\") {\r\n        smallToggleBtn[i].children[0].className = \"small-play-btn\";\r\n      }\r\n    }\r\n  };\r\n\r\n  return {\r\n    initPlayer: initPlayer\r\n  };\r\n};\r\n\r\n(function() {\r\n  var player = new audioPlayer();\r\n\r\n  player.initPlayer();\r\n})();\r\n\r\nconst Index = ({ home = [] }) => (\r\n  <DefaultLayout>\r\n      {home.map(homepage => (\r\n\r\n        <div>\r\n         <div className=\"row\">\r\n         {homepage.data.body.filter(slice => slice.slice_type == \"profile_card\").map(profile => {\r\n            profile = profile.primary;\r\n            return (\r\n               <div className=\"profile-card col-md-6 p-0\"> \r\n               <style>{`       \r\n                  .profile-card {\r\n                      background-color: #000;\r\n                      background-image: url(https://www.transparenttextures.com/patterns/asfalt-light.png);\r\n                  } \r\n                `}</style>                              \r\n                  <div className=\"profile-card__image text-center\" style={profileCardStyles()}>\r\n                      <div className=\"profile-card__text text-center mb-5\" style={profileCardText()}>\r\n                        <h1 className=\"profile-card__title display-1\"><img src={profile.profile_logo.url} width=\"400\" alt={RichText.asText(profile.profile_title)} /></h1>\r\n                      </div>\r\n                  </div>\r\n               </div>\r\n            )\r\n          })}\r\n          {homepage.data.body.filter(slice => slice.slice_type == \"tracklist\").map(tracklist => (\r\n              <div className=\"tracklist-card col-md-6 px-0\">\r\n              <style>{`       \r\n                  .tracklist-card {\r\n                      background-color: #000;\r\n                      color: #fff;\r\n                      background-image: url(https://www.transparenttextures.com/patterns/asfalt-light.png);\r\n                  } \r\n              `}</style>     \r\n               <audio id=\"audio\" preload=\"none\" tabindex=\"0\">\r\n          <source src=\"https://archive.org/download/calexico2006-12-02..flac16/calexico2006-12-02d1t02.mp3\" data-track-number=\"1\" />\r\n          <source src=\"https://archive.org/download/ra2007-07-21/ra2007-07-21d1t05_64kb.mp3\" data-track-number=\"2\" />\r\n          <source src=\"https://archive.org/download/slac2002-02-15/slac2002-02-15d1t07_64kb.mp3\" data-track-number=\"3\" />\r\n          <source src=\"https://archive.org/download/blitzentrapper2009-02-24.flac16/blitzentrapper2009-02-24t02_64kb.mp3\" data-track-number=\"4\" />\r\n          <source src=\"https://archive.org/download/samples2003-11-21.flac16/samples2003-11-21d2t04.mp3\" data-track-number=\"5\" />    \r\n          <source src=\"https://archive.org/download/mikedoughty2004-06-16.flac16/d1t13.mp3\" data-track-number=\"6\" />\r\n          <source src=\"https://archive.org/download/glove2004-03-18.shnf/glove2004-03-18d1t05.mp3\" data-track-number=\"7\" />\r\n          <source src=\"https://archive.org/download/guster2005-11-12.flac16/guster2005-11-12d2t04.mp3\" data-track-number=\"8\" />\r\n                                    <source src=\"https://archive.org/download/oar2004-11-12.flac/oar2004-11-12d1t01.mp3\" data-track-number=\"9\" />\r\n                                    <source src=\"https://archive.org/download/mmj2003-09-26.shnf/mmj2003-09-26d2t08.mp3\" data-track-number=\"10\" />\r\n          Your browser does not support HTML5 audio.\r\n        </audio>             \r\n                  <div className=\"tracklist-card__title p-5\">\r\n                      <h2>Latest Tracks</h2>\r\n                  </div>\r\n\r\n                  <ul className=\"list-group\">\r\n                  {tracklist.items.map( (track, index) => (\r\n                         <li className=\"list-group-item p-4\">\r\n                            <h4 className=\"pb-3\">{RichText.asText(track.track_title)}</h4>\r\n                          {track.track_mp3_file && \r\n                             <audio controls>\r\n                                <source src={track.track_mp3_file.url} type=\"audio/mpeg\"/>\r\n                                Your browser does not support the audio element.\r\n                              </audio>\r\n                          }\r\n                          {track.purchase_link && <div className=\"mt-3 d-none\"><a className=\"btn btn-primary\" href={track.purchase_link.url} target=\"_blank\">Purchase</a></div>}\r\n                        </li>\r\n                      )\r\n                  )}\r\n                  </ul>         \r\n              </div>\r\n          ))}  \r\n         </div>\r\n        </div>\r\n      ))}\r\n  </DefaultLayout>\r\n);\r\n\r\nIndex.getInitialProps = async () => {\r\n  // Here we call the API and request 5 documents\r\n  const response = await getHomePageAPI({ pageSize: 1 });\r\n  return {\r\n    home: response.results\r\n  };\r\n};\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}