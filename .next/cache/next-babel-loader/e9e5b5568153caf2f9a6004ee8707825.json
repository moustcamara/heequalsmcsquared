{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Prismic from 'prismic-javascript';\nimport { PRISMIC_API_URL } from '../config';\n\nconst getHomePageAPI = async slug => {\n  try {\n    const API = await Prismic.api(PRISMIC_API_URL); // we pass up the slug to request the correct post\n\n    const response = await API.query(Prismic.Predicates.at('document.type', 'homepage'));\n    return response.results[0];\n  } catch (error) {\n    console.error(error);\n    return error;\n  }\n};\n\nconst getBlogPostsAPI = async params => {\n  try {\n    // We initialise the API with Prismic's kit\n    const API = await Prismic.api(PRISMIC_API_URL); // Here we just query the documents with a filter of only returning\n    // the type of blog_post and order them. Full docs can be found here:\n    // https://github.com/prismicio/prismic-javascript#query-the-content\n\n    const response = await API.query(Prismic.Predicates.at('document.type', 'blog_post'), _objectSpread({\n      orderings: '[my.blog_post.date desc]'\n    }, params));\n    return response;\n  } catch (error) {\n    return error;\n  }\n};\n\nconst getBlogPostAPI = async slug => {\n  try {\n    const API = await Prismic.api(PRISMIC_API_URL); // we pass up the slug to request the correct post\n\n    const response = await API.query(Prismic.Predicates.at('my.blog_post.uid', slug));\n    return response.results[0];\n  } catch (error) {\n    console.error(error);\n    return error;\n  }\n}; // Don't forget to export newly created function\n\n\nexport { getHomePageAPI, getBlogPostsAPI, getBlogPostAPI };","map":{"version":3,"sources":["C:/Users/Moustapha Camara/Dropbox/MOUST MUSIC/HeEqualsMCSquared Website/Development/heequalsmcsquared/api/index.js"],"names":["Prismic","PRISMIC_API_URL","getHomePageAPI","slug","API","api","response","query","Predicates","at","results","error","console","getBlogPostsAPI","params","orderings","getBlogPostAPI"],"mappings":";;;;;;AAAA,OAAOA,OAAP,MAAoB,oBAApB;AACA,SAASC,eAAT,QAAgC,WAAhC;;AAGA,MAAMC,cAAc,GAAG,MAAMC,IAAN,IAAc;AACnC,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMJ,OAAO,CAACK,GAAR,CAAYJ,eAAZ,CAAlB,CADE,CAEF;;AACA,UAAMK,QAAQ,GAAG,MAAMF,GAAG,CAACG,KAAJ,CACrBP,OAAO,CAACQ,UAAR,CAAmBC,EAAnB,CAAsB,eAAtB,EAAuC,UAAvC,CADqB,CAAvB;AAGA,WAAOH,QAAQ,CAACI,OAAT,CAAiB,CAAjB,CAAP;AACD,GAPD,CAOE,OAAOC,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACA,WAAOA,KAAP;AACD;AACF,CAZD;;AAeA,MAAME,eAAe,GAAG,MAAMC,MAAN,IAAgB;AACtC,MAAI;AACF;AACA,UAAMV,GAAG,GAAG,MAAMJ,OAAO,CAACK,GAAR,CAAYJ,eAAZ,CAAlB,CAFE,CAGF;AACA;AACA;;AACA,UAAMK,QAAQ,GAAG,MAAMF,GAAG,CAACG,KAAJ,CACrBP,OAAO,CAACQ,UAAR,CAAmBC,EAAnB,CAAsB,eAAtB,EAAuC,WAAvC,CADqB;AAGnBM,MAAAA,SAAS,EAAE;AAHQ,OAIhBD,MAJgB,EAAvB;AASA,WAAOR,QAAP;AACD,GAhBD,CAgBE,OAAOK,KAAP,EAAc;AACd,WAAOA,KAAP;AACD;AACF,CApBD;;AAuBA,MAAMK,cAAc,GAAG,MAAMb,IAAN,IAAc;AACnC,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMJ,OAAO,CAACK,GAAR,CAAYJ,eAAZ,CAAlB,CADE,CAEF;;AACA,UAAMK,QAAQ,GAAG,MAAMF,GAAG,CAACG,KAAJ,CACrBP,OAAO,CAACQ,UAAR,CAAmBC,EAAnB,CAAsB,kBAAtB,EAA0CN,IAA1C,CADqB,CAAvB;AAGA,WAAOG,QAAQ,CAACI,OAAT,CAAiB,CAAjB,CAAP;AACD,GAPD,CAOE,OAAOC,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACA,WAAOA,KAAP;AACD;AACF,CAZD,C,CAeA;;;AACA,SAAST,cAAT,EAAyBW,eAAzB,EAA0CG,cAA1C","sourcesContent":["import Prismic from 'prismic-javascript';\r\nimport { PRISMIC_API_URL } from '../config';\r\n\r\n\r\nconst getHomePageAPI = async slug => {\r\n  try {\r\n    const API = await Prismic.api(PRISMIC_API_URL);\r\n    // we pass up the slug to request the correct post\r\n    const response = await API.query(\r\n      Prismic.Predicates.at('document.type', 'homepage')\r\n    );\r\n    return response.results[0];\r\n  } catch (error) {\r\n    console.error(error);\r\n    return error;\r\n  }\r\n};\r\n\r\n\r\nconst getBlogPostsAPI = async params => {\r\n  try {\r\n    // We initialise the API with Prismic's kit\r\n    const API = await Prismic.api(PRISMIC_API_URL);\r\n    // Here we just query the documents with a filter of only returning\r\n    // the type of blog_post and order them. Full docs can be found here:\r\n    // https://github.com/prismicio/prismic-javascript#query-the-content\r\n    const response = await API.query(\r\n      Prismic.Predicates.at('document.type', 'blog_post'),\r\n      {\r\n        orderings: '[my.blog_post.date desc]',\r\n        ...params\r\n        // params will be extra parameters we can pass through with api calls\r\n        // such as how many documents to return\r\n      }\r\n    );\r\n    return response;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\n\r\nconst getBlogPostAPI = async slug => {\r\n  try {\r\n    const API = await Prismic.api(PRISMIC_API_URL);\r\n    // we pass up the slug to request the correct post\r\n    const response = await API.query(\r\n      Prismic.Predicates.at('my.blog_post.uid', slug)\r\n    );\r\n    return response.results[0];\r\n  } catch (error) {\r\n    console.error(error);\r\n    return error;\r\n  }\r\n};\r\n\r\n\r\n// Don't forget to export newly created function\r\nexport { getHomePageAPI, getBlogPostsAPI, getBlogPostAPI };"]},"metadata":{},"sourceType":"module"}