{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Link from 'next/link';\nimport { getHomePageAPI, getBlogPostsAPI } from '../api'; // We create this in just a tick\n\nimport { linkResolver } from '../helpers';\nimport { RichText } from 'prismic-reactjs';\nimport ReactPlayer from 'react-player';\nimport React, { Component } from 'react';\nimport ProfileCard from '../components/ProfileCard.js';\nimport TracksCard from '../components/TracksCard.js';\n/**\r\n* As you can see we are importing our layout here,\r\n* and below we wrap all of the page in it.\r\n*/\n\nimport DefaultLayout from '../layouts';\n\nfunction getTime(time) {\n  if (!isNaN(time)) {\n    return Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2);\n  }\n}\n\nclass Index extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      selectedTrack: null,\n      player: \"stopped\",\n      currentTime: null,\n      duration: null\n    });\n  }\n\n  componentDidMount() {\n    this.player.addEventListener(\"timeupdate\", e => {\n      this.setState({\n        currentTime: e.target.currentTime,\n        duration: e.target.duration\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.player.removeEventListener(\"timeupdate\", () => {});\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.selectedTrack !== prevState.selectedTrack) {\n      let track;\n\n      switch (this.state.selectedTrack) {\n        case \"I'm Feeling It\":\n          track = '';\n          break;\n\n        case \"Celebration\":\n          track = 'https://prismic-io.s3.amazonaws.com/heequalsmcsqaured/90dec21a-b627-4ccc-bd1d-0124cf9d447a_Celebration.mp3';\n          break;\n\n        default:\n          break;\n      }\n\n      if (track) {\n        this.player.src = track;\n        this.player.play();\n        this.setState({\n          player: \"playing\",\n          duration: this.player.duration\n        });\n      }\n    }\n\n    if (this.state.player !== prevState.player) {\n      if (this.state.player === \"paused\") {\n        this.player.pause();\n      } else if (this.state.player === \"stopped\") {\n        this.player.pause();\n        this.player.currentTime = 0;\n        this.setState({\n          selectedTrack: null\n        });\n      } else if (this.state.player === \"playing\" && prevState.player === \"paused\") {\n        this.player.play();\n      }\n    }\n  }\n\n  static async getInitialProps() {\n    const response = await getHomePageAPI({\n      pageSize: 1\n    });\n    return {\n      home: response.results\n    };\n  }\n\n  render() {\n    return __jsx(DefaultLayout, null, this.props.home.map(homepage => __jsx(\"div\", null, __jsx(\"audio\", {\n      ref: ref => this.player = ref\n    }), __jsx(\"div\", {\n      className: \"row\"\n    }, homepage.data.body.map(slice => slice.slice_type == \"profile_card\" && __jsx(ProfileCard, {\n      profile: slice.primary\n    })), homepage.data.body.map(slice => slice.slice_type == \"tracklist\" && __jsx(TracksCard, {\n      trackSource: slice.items\n    }))))));\n  }\n\n}\n/*\r\n\r\nconst Index = ({ home = [] }) => (\r\n  <DefaultLayout>\r\n      {home.map(homepage => (\r\n        <div>\r\n           <div className=\"row\">\r\n              {homepage.data.body.map(slice => slice.slice_type == \"profile_card\" && <ProfileCard profile={slice.primary} />)}              \r\n              {homepage.data.body.map(slice => slice.slice_type == \"tracklist\" && <TracksCard trackSource={slice.items} />)}  \r\n           </div>\r\n        </div>\r\n      ))}\r\n  </DefaultLayout>\r\n);\r\n\r\nIndex.getInitialProps = async () => {\r\n  // Here we call the API and request 5 documents\r\n  const response = await getHomePageAPI({ pageSize: 1 });\r\n  return {\r\n    home: response.results\r\n  };\r\n};\r\n\r\n*/\n\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/Moustapha Camara/Dropbox/MOUST MUSIC/HeEqualsMCSquared Website/Development/heequalsmcsquared/pages/index.js"],"names":["Link","getHomePageAPI","getBlogPostsAPI","linkResolver","RichText","ReactPlayer","React","Component","ProfileCard","TracksCard","DefaultLayout","getTime","time","isNaN","Math","floor","slice","Index","selectedTrack","player","currentTime","duration","componentDidMount","addEventListener","e","setState","target","componentWillUnmount","removeEventListener","componentDidUpdate","prevProps","prevState","state","track","src","play","pause","getInitialProps","response","pageSize","home","results","render","props","map","homepage","ref","data","body","slice_type","primary","items"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\nimport { getHomePageAPI, getBlogPostsAPI } from '../api';\r\n// We create this in just a tick\r\nimport { linkResolver } from '../helpers';\r\n\r\nimport { RichText } from 'prismic-reactjs';\r\n\r\nimport ReactPlayer from 'react-player';\r\n\r\nimport React, { Component } from 'react'\r\n\r\nimport ProfileCard from '../components/ProfileCard.js';\r\nimport TracksCard from '../components/TracksCard.js';\r\n\r\n/**\r\n* As you can see we are importing our layout here,\r\n* and below we wrap all of the page in it.\r\n*/\r\nimport DefaultLayout from '../layouts';\r\n\r\n\r\n\r\nfunction getTime(time) {\r\n  if (!isNaN(time)) {\r\n    return (\r\n      Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2)\r\n    );\r\n  }\r\n}\r\n\r\n\r\nclass Index extends React.Component {\r\n    state = {\r\n      selectedTrack: null,\r\n      player: \"stopped\",\r\n      currentTime: null,\r\n      duration: null\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n      this.player.addEventListener(\"timeupdate\", e => {\r\n        this.setState({\r\n          currentTime: e.target.currentTime,\r\n          duration: e.target.duration\r\n        });\r\n      });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.player.removeEventListener(\"timeupdate\", () => {});\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n      if (this.state.selectedTrack !== prevState.selectedTrack) {\r\n        let track;\r\n        switch (this.state.selectedTrack) {\r\n          case \"I'm Feeling It\":\r\n            track = '';\r\n            break;\r\n          case \"Celebration\":\r\n            track = 'https://prismic-io.s3.amazonaws.com/heequalsmcsqaured/90dec21a-b627-4ccc-bd1d-0124cf9d447a_Celebration.mp3';\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        if (track) {\r\n          this.player.src = track;\r\n          this.player.play();\r\n          this.setState({ player: \"playing\", duration: this.player.duration });\r\n        }\r\n      }\r\n      if (this.state.player !== prevState.player) {\r\n        if (this.state.player === \"paused\") {\r\n          this.player.pause();\r\n        } else if (this.state.player === \"stopped\") {\r\n          this.player.pause();\r\n          this.player.currentTime = 0;\r\n          this.setState({ selectedTrack: null });\r\n        } else if (\r\n          this.state.player === \"playing\" &&\r\n          prevState.player === \"paused\"\r\n        ) {\r\n          this.player.play();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  static async getInitialProps() {\r\n    const response = await getHomePageAPI({ pageSize: 1 });\r\n     return {\r\n      home: response.results\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <DefaultLayout>\r\n            {this.props.home.map(homepage => (\r\n              <div>\r\n                <audio ref={ref => this.player = ref} />\r\n                 <div className=\"row\">\r\n                    {homepage.data.body.map(slice => slice.slice_type == \"profile_card\" && <ProfileCard profile={slice.primary} />)}              \r\n                    {homepage.data.body.map(slice => slice.slice_type == \"tracklist\" && <TracksCard trackSource={slice.items} />)}  \r\n                 </div>\r\n              </div>\r\n            ))}\r\n        </DefaultLayout>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n/*\r\n\r\nconst Index = ({ home = [] }) => (\r\n  <DefaultLayout>\r\n      {home.map(homepage => (\r\n        <div>\r\n           <div className=\"row\">\r\n              {homepage.data.body.map(slice => slice.slice_type == \"profile_card\" && <ProfileCard profile={slice.primary} />)}              \r\n              {homepage.data.body.map(slice => slice.slice_type == \"tracklist\" && <TracksCard trackSource={slice.items} />)}  \r\n           </div>\r\n        </div>\r\n      ))}\r\n  </DefaultLayout>\r\n);\r\n\r\nIndex.getInitialProps = async () => {\r\n  // Here we call the API and request 5 documents\r\n  const response = await getHomePageAPI({ pageSize: 1 });\r\n  return {\r\n    home: response.results\r\n  };\r\n};\r\n\r\n*/\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}