{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { getHomePageAPI, getBlogPostsAPI } from '../api'; // We create this in just a tick\n\nimport { linkResolver } from '../helpers';\nimport { RichText } from 'prismic-reactjs';\nimport ReactPlayer from 'react-player';\nimport React, { Component } from 'react';\nimport ProfileCard from '../components/ProfileCard.js';\nimport TracksCard from '../components/TracksCard.js';\n/**\r\n* As you can see we are importing our layout here,\r\n* and below we wrap all of the page in it.\r\n*/\n\nimport DefaultLayout from '../layouts';\n\nvar Index = function Index(_ref) {\n  var _ref$home = _ref.home,\n      home = _ref$home === void 0 ? [] : _ref$home;\n  return __jsx(DefaultLayout, null, home.map(function (homepage) {\n    return __jsx(\"div\", null, __jsx(\"div\", {\n      className: \"row\"\n    }, homepage.data.body.map(function (slice) {\n      var sliceGroup = function sliceGroup() {\n        return slice.slice_type == \"profile_card\" && __jsx(ProfileCard, {\n          profile: slice.primary\n        }), slice.slice_type == \"tracklist\" && __jsx(TracksCard, {\n          trackSource: slice.items\n        });\n      };\n\n      return sliceGroup;\n    }), homepage.data.body.filter(function (slice) {\n      return slice.slice_type == \"tracklist\";\n    }).map(function (tracklist) {\n      return __jsx(TracksCard, {\n        trackSource: tracklist.items\n      });\n    })));\n  }));\n};\n\nIndex.getInitialProps = function _callee() {\n  var response;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(getHomePageAPI({\n            pageSize: 1\n          }));\n\n        case 2:\n          response = _context.sent;\n          return _context.abrupt(\"return\", {\n            home: response.results\n          });\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/Moustapha Camara/Dropbox/MOUST MUSIC/HeEqualsMCSquared Website/Development/heequalsmcsquared/pages/index.js"],"names":["Link","getHomePageAPI","getBlogPostsAPI","linkResolver","RichText","ReactPlayer","React","Component","ProfileCard","TracksCard","DefaultLayout","Index","home","map","homepage","data","body","slice","sliceGroup","slice_type","primary","items","filter","tracklist","getInitialProps","pageSize","response","results"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,SAASC,cAAT,EAAyBC,eAAzB,QAAgD,QAAhD,C,CACA;;AACA,SAASC,YAAT,QAA6B,YAA7B;AAEA,SAASC,QAAT,QAAyB,iBAAzB;AAEA,OAAOC,WAAP,MAAwB,cAAxB;AAEA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AAEA;;;;;AAIA,OAAOC,aAAP,MAA0B,YAA1B;;AAGA,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,uBAAGC,IAAH;AAAA,MAAGA,IAAH,0BAAU,EAAV;AAAA,SACZ,MAAC,aAAD,QACKA,IAAI,CAACC,GAAL,CAAS,UAAAC,QAAQ;AAAA,WAChB,mBACG;AAAK,MAAA,SAAS,EAAC;AAAf,OACGA,QAAQ,CAACC,IAAT,CAAcC,IAAd,CAAmBH,GAAnB,CAAuB,UAAAI,KAAK,EAAI;AAEhC,UAAIC,UAAU,GAAG,SAAbA,UAAa;AAAA,eACXD,KAAK,CAACE,UAAN,IAAoB,cAApB,IAAsC,MAAC,WAAD;AAAa,UAAA,OAAO,EAAEF,KAAK,CAACG;AAA5B,UAAtC,EACAH,KAAK,CAACE,UAAN,IAAoB,WAApB,IAAmC,MAAC,UAAD;AAAY,UAAA,WAAW,EAAEF,KAAK,CAACI;AAA/B,UAFxB;AAAA,OAAjB;;AAKE,aAAOH,UAAP;AAID,KAXD,CADH,EAeIJ,QAAQ,CAACC,IAAT,CAAcC,IAAd,CAAmBM,MAAnB,CAA0B,UAAAL,KAAK;AAAA,aAAIA,KAAK,CAACE,UAAN,IAAoB,WAAxB;AAAA,KAA/B,EAAoEN,GAApE,CAAwE,UAAAU,SAAS;AAAA,aAC9E,MAAC,UAAD;AAAY,QAAA,WAAW,EAAEA,SAAS,CAACF;AAAnC,QAD8E;AAAA,KAAjF,CAfJ,CADH,CADgB;AAAA,GAAjB,CADL,CADY;AAAA,CAAd;;AA4BAV,KAAK,CAACa,eAAN,GAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAECvB,cAAc,CAAC;AAAEwB,YAAAA,QAAQ,EAAE;AAAZ,WAAD,CAFf;;AAAA;AAEhBC,UAAAA,QAFgB;AAAA,2CAGf;AACLd,YAAAA,IAAI,EAAEc,QAAQ,CAACC;AADV,WAHe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB;;AAQA,eAAehB,KAAf","sourcesContent":["import Link from 'next/link';\r\nimport { getHomePageAPI, getBlogPostsAPI } from '../api';\r\n// We create this in just a tick\r\nimport { linkResolver } from '../helpers';\r\n\r\nimport { RichText } from 'prismic-reactjs';\r\n\r\nimport ReactPlayer from 'react-player';\r\n\r\nimport React, { Component } from 'react'\r\n\r\nimport ProfileCard from '../components/ProfileCard.js';\r\nimport TracksCard from '../components/TracksCard.js';\r\n\r\n/**\r\n* As you can see we are importing our layout here,\r\n* and below we wrap all of the page in it.\r\n*/\r\nimport DefaultLayout from '../layouts';\r\n\r\n\r\nconst Index = ({ home = [] }) => (\r\n  <DefaultLayout>\r\n      {home.map(homepage => (\r\n        <div>\r\n           <div className=\"row\">\r\n             {homepage.data.body.map(slice => {\r\n\r\n              let sliceGroup = () => (\r\n                    slice.slice_type == \"profile_card\" && <ProfileCard profile={slice.primary} />,\r\n                    slice.slice_type == \"tracklist\" && <TracksCard trackSource={slice.items} />\r\n              )\r\n               \r\n                return sliceGroup\r\n                \r\n\r\n\r\n              })}\r\n\r\n\r\n              {homepage.data.body.filter(slice => slice.slice_type == \"tracklist\").map(tracklist => (\r\n                  <TracksCard trackSource={tracklist.items} />\r\n              ))}  \r\n           </div>\r\n        </div>\r\n      ))}\r\n  </DefaultLayout>\r\n);\r\n\r\nIndex.getInitialProps = async () => {\r\n  // Here we call the API and request 5 documents\r\n  const response = await getHomePageAPI({ pageSize: 1 });\r\n  return {\r\n    home: response.results\r\n  };\r\n};\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}